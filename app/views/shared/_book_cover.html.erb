<%# Usage: render "shared/book_cover", book: @book, class: "w-32", size: :large %>
<%# Sizes: :small, :medium (default), :large, :extra_large %>
<% cover_size = local_assigns[:size] || :medium %>
<% url = book.cover_url_at_size(cover_size) %>
<% if url.present? %>
  <%= image_tag url, alt: book.title, class: local_assigns[:class] %>
<% else %>
  <% color_class = book.cover_placeholder_color == "vermillion" ? "bg-vermillion" : "bg-sage" %>
  <div class="<%= color_class %> flex items-center justify-center aspect-[2/3] rounded <%= local_assigns[:class] %>">
    <span class="text-white text-xs font-medium px-2 text-center line-clamp-3">
      <%= book.title %>
    </span>
  </div>
<% end %>
