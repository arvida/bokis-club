<div class="bg-cream/30 rounded-lg p-6 mb-8" data-testid="now-reading">
  <span class="inline-block text-xs font-medium tracking-widest text-vermillion mb-4">
    <%= t("club_books.now_reading.department") %>
  </span>

  <% if club.current_book %>
    <% book = club.current_book %>
    <% club_book = club.current_club_book %>
    <%= link_to club_club_book_path(club, club_book), class: "flex gap-6 group" do %>
      <div class="flex-shrink-0 w-24">
        <%= render "shared/book_cover", book: book, class: "w-full shadow-lg rounded group-hover:shadow-xl transition-shadow" %>
      </div>

      <div class="flex-1">
        <h2 class="font-display text-xl italic font-light mb-1 group-hover:text-vermillion transition-colors"><%= book.title %></h2>
        <% if book.authors.present? %>
          <p class="text-ink-muted text-sm mb-2"><%= book.author_names %></p>
        <% end %>
        <% if book.page_count.present? %>
          <p class="text-ink-subtle text-xs"><%= t("club_books.show.pages", count: book.page_count) %></p>
        <% end %>
      </div>
    <% end %>

    <% if is_admin %>
      <div class="mt-4 pt-4 border-t border-cream/50 flex flex-wrap gap-3">
        <%= link_to t("club_books.now_reading.change_book"),
            new_club_club_book_path(club),
            class: "px-4 py-2 border border-ink-muted text-ink-muted text-sm font-medium rounded-lg hover:border-ink hover:text-ink transition-colors" %>
        <%= button_to t("club_books.now_reading.mark_complete"),
            mark_complete_club_club_books_path(club),
            method: :post,
            form: { data: { turbo_confirm: t("club_books.now_reading.mark_complete_confirm") } },
            class: "px-4 py-2 border border-ink-muted text-ink-muted text-sm font-medium rounded-lg hover:border-ink hover:text-ink transition-colors" %>
      </div>
    <% end %>
  <% else %>
    <div class="text-center py-4">
      <p class="text-ink-muted mb-4"><%= t("club_books.now_reading.no_book") %></p>
      <% if is_admin %>
        <%= link_to t("club_books.now_reading.set_book"),
            new_club_club_book_path(club),
            class: "inline-block px-6 py-3 bg-vermillion text-white font-medium rounded-lg hover:bg-vermillion-dark transition-colors" %>
      <% end %>
    </div>
  <% end %>
</div>
